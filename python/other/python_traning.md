# らふぁえる先生によるPython3勉強会 資料

## １．型

### はじめに
Java研修で習った人もいれば，何かしらの言語から経験した人もいると思うけれども，  
Pythonでもint型やString型といった，変数やオブジェクトの型が存在します  
この章ではPythonでのそれぞれの型の振る舞いを学んでいきましょう


### 型宣言
Pythonでは変数に対し型宣言をする必要がありません  
なぜならば，Pythonは**動的型付け(dynamic tyoing)**を行う言語だからです  
動的型付けとは，プログラムの実行時に型が決定されることを言います

### オブジェクトと型の違い
Pythonでは，クラスも関数も変数も配列も型も，全てがオブジェクトです  
とはいえ，それを意識してコーディングする必要はしばらくないので，この章で扱うものを便宜上"型"と呼ぶことにします  
また，この章の後半で紹介する`list`，`tuple`,`dict`は，**コンテナオブジェクト**や**シーケンス型（sequence）**と呼ばれ，複数のオブジェクトをまとめることができます

#### int
Pythonのint型は範囲が決められていません．利用可能なメモリ分だけ格納することができます

```python
a = 10
b = 20
c = a + b

print(c)
# > 30
```

#### bool
実はbool型はint型の派生系です．1と0しか値を取らないint型だと思ってください  
しかし，文字列に変換するとそれぞれ`True`，`False`といった形で表されます  
Javaと違って，はじめが大文字になることに注意してください

```python
a = 10
b = 20

print(a<b)
# > True

print(a>b)
# > False

c = True + True
print(c)
# > 2
```

#### float
Javaで小数を表す場合は，floatかdoubleのどちらかでした．これらの違いを覚えていますか？  
floatが32bit，doubleが64bitの浮動小数点数を扱う型だったかと思います  
Pythonではfloatが64bitの浮動小数点数になります．すなわち，doubleと同じです  

```python
a = 3.2
b = 6.4

print(a+b)
# > 9.600000000000001

print(a-b)
# > -3.2

print(a*b)
# 20.480000000000004

print(a/b)
# > 0.5
```

#### complex
複素数型です，実部と虚部はそれぞれfloat型で格納されます

```python
a = 2+1j
b = 3-4j

print(a+b)
# > (5-3j)

print(a-b)
# > (-1+5j)

print(a*b)
# > (10-5j)

print(a/b)
# > (0.08+0.44j)

print(a.real, b.imag)
# > 2.0 -4.0
```

#### str
String型です，配列としても扱うことができます  
Pythonにはchar型が存在しないので，String型の文字列は，１文字のString型による配列として表現されます  
また，`+`で文字列の結合を行うことができます  
シングルクォーテーションかダブルクォーテーションで囲うとString型になります，クォーテーションによる区別はありません  
ただし，String宣言時とは異なるクォーテーションを文字列に含める場合，エスケープせずに出力することができます  
> JavaではString型はダブルクォーテーションで表現されます  
> そのため，文字列の中にダブルクォーテーションがあると，正しく出力されません  
> ダブルクォーテーションを出力したい場合は，エスケープをすることによって，文字列として扱うことができます  
> 大概，エスケープしたい文字の前にバックスラッシュを置けばエスケープできます  
> 例：System.out.println("Rafaelは\"Hello, world!\"と声高らかに叫んだ")  
> 　　\> Rafaelは"Hello, world!"と声高らかに避けんが

```python
text = 'Hello, world!'

print(text)
# > Hello, world!

print(text + ' Good night!')
# > Hello, world! Good night!

print("Rafaelは\"Hello, world!\"と声高らかに叫んだ")
# > Rafaelは"Hello, world!"と声高らかに叫んだ

print('Rafaelは"Hello, world!"と声高らかに叫んだ')
# > Rafaelは"Hello, world!"と声高らかに叫んだ

```

### シーケンス型
#### list
list型はシーケンス型の中でも最もシンプルです，Javaでは配列と呼ばれていたものがこれにあたります  
ただし，Javaの配列と違い，**動的確保**をすることができます  
中に格納する値は，型が違っても問題ありません
> listの動的確保とは，listを宣言時に変数などを用いて宣言する方法です
> プログラム内の値に応じてlistの大きさを設定できるため，便利な場合があります

```python
line = [0,1,2,3]
print(line)
# > [0,1,2,3]
print(line[2])
# > 2
line[3] = 10
print(line)
# > [0,1,2,10]


line = ['apple', 'banana', 'chocolate']
print(line)
# > ['apple', 'banana', 'chocolate']
print(line[1])
# > banana

line = [2019, '年', 5, '月', 1, '日']
print(line)
# > [2019, '年', 5, '月', 1, '日']
```

listはスライス操作が使えます  
line[i:j]と書くと，i以上j未満の要素を取り出すことができます．このとき，iまたはjは省略することが可能です  
また，拡張スライス操作を使うこともできますが，今回は説明を省きます

```python
line = [0,1,2,3,4,5]

print(line)
# > [0,1,2,3,4,5]

print(line[1:4])
# > [1,2,3]

print(line[2:])
# > [2,3,4,5,6]

print(line[:3])
# > [0,1,2]

print(line[:])
# > [0,1,2,3,4,5]
```

listの扱いについては，for文や内包表記を説明する際に併せて説明します

#### tuple
tupleはイミュータブルなシーケンス型です，すなわち一度生成すると値が変更できません  

#### dict

### おわりに：Pythonの記法はなぜここまでシンプルなのか？
Pythonは高い可読性を持つように設計されています  
ある処理を実装しようとしたとき，違う人間でも同じようなコードが書けるよう，無駄を省きシンプルに記述できるようになっているのです
そのため，Python自体の機能は必要最低限しか備わっておりません  
ただし，標準ライブラリ，サードパーティ製ライブラリなどをはじめとした拡張ツールが大変豊富で，目的に合わせて自由に機能を拡張していくことができます  
また，**オフサイドルール**といったインデントによるブロック指定により，可読性を高めています  
これにより，うんこのようなインデントのせいで目を走らせることもありません  
開発者の素晴らしい思想により，Pythonはシンプルかつエレガントなコーディングができるようになっているわけです

> Pythonを知れば知るほど，Rafaelの思想が明らかになってくると思います  
> それほどRafaelにとって，Pythonは偉大な言語と言えるわけです  
> 人生苦短我用Python!!